{"ast":null,"code":"var _jsxFileName = \"/home/joe/projects/Capstone-22-23/src/app/src2/src/pages/DemoPage.jsx\",\n  _s2 = $RefreshSig$();\nimport supportedBus from '../images/supported/bus.png';\nimport supportedMinivan from '../images/supported/minivan.png';\nimport supportedManhole from '../images/supported/manhole.png';\nimport supportedMountainBike from '../images/supported/mountainBike.png';\nimport supportedParkBench from '../images/supported/parkBench.png';\nimport supportedPoliceCar from '../images/supported/policeCar.png';\nimport supportedRV from '../images/supported/rv.png';\nimport supportedStreetSign from '../images/supported/streetSign.png';\nimport supportedTaxi from '../images/supported/taxi.png';\nimport supportedTrafficLight from '../images/supported/trafficLight.png';\nimport preset1 from '../images/presets/preset1.jpg';\nimport { useEffect, useState, useRef } from 'react';\nimport Page from './Page';\nimport UploadButton from '../components/UploadButton';\nimport Button from '../components/Button';\nimport { isCompositeComponent } from 'react-dom/test-utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DemoPage = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const [error, setError] = useState(\"\");\n  const [uploadImage, setUploadImage] = useState(null);\n  const [resultImage, setResultImage] = useState(null);\n  const [resultData, setResultData] = useState(null);\n  const startAnalyzing = image => {\n    console.log(image);\n    setUploadImage(image);\n    setError(null);\n  };\n  const PreUpload = () => {\n    const CheckMarkListItem = _ref => {\n      let {\n        text\n      } = _ref;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex my-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pl-6\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-700\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa-solid fa-check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pl-2\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-700\",\n            children: text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 20\n      }, this);\n    };\n    const SupportedObjects = () => {\n      const types = [{\n        name: \"R.V.\",\n        image: supportedRV\n      }, {\n        name: \"Street sign\",\n        image: supportedStreetSign\n      }, {\n        name: \"School bus\",\n        image: supportedBus\n      }, {\n        name: \"Mountain bike\",\n        image: supportedMountainBike\n      }, {\n        name: \"Taxi\",\n        image: supportedTaxi\n      }, {\n        name: \"Minivan\",\n        image: supportedMinivan\n      }, {\n        name: \"Traffic light\",\n        image: supportedTrafficLight\n      }, {\n        name: \"Park bench\",\n        image: supportedParkBench\n      }, {\n        name: \"Police car\",\n        image: supportedPoliceCar\n      }, {\n        name: \"Manhole cover\",\n        image: supportedManhole\n      }];\n      let listText = \"\";\n      for (let i = 0; i < types.length; i++) {\n        let t = types[i];\n        listText += i == types.length - 1 ? t.name : t.name + \", \";\n      }\n      console.log(listText);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full rounded-lg px-5 py-6 lg:py-4 bg-slate-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-slate-400 sm:hidden md:block font-bold tracking-wider 2xl:text-xl xl:text-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-info-circle mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), \"SUPPORTED OBJECT CLASSES\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-slate-400 hidden sm:block md:hidden font-bold tracking-wider 2xl:text-xl xl:text-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-info-circle mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), \"OBJECT CLASSES\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 flex-wrap hidden lg:flex\",\n          children: types.map((t, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2 py-2 w-6/12 odd:border-r-2 odd:border-r-slate-200 flex items-center \" + (index < types.length - 2 ? \"border-b-2 border-b-slate-200\" : \"\"),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 2xl:w-14\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: t.image,\n                className: \"w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-slate-600 pl-3 2xl:text-lg\",\n              children: t.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this)]\n          }, \"so-\" + index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 hidden sm:block lg:hidden ml-8 mr-3\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc\",\n            children: types.map((t, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-slate-500 pl-2\",\n              children: t.name\n            }, \"so-list-\" + index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block sm:hidden mx-1\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-500 mt-2\",\n            children: listText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this);\n    };\n    const Presets = () => {\n      const presets = [preset1, preset1, preset1, preset1, preset1, preset1, preset1, preset1, preset1];\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto mt-12 grid md:grid-cols-3 grid-cols-2 px-3 md:px-0 gap-5 md:gap-x-12 md:gap-y-8 mb-24\",\n        children: presets.map((preset, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"2xl:h-72 xl:h-60 relative\",\n          onClick: e => startAnalyzing(getBase64Image(document.getElementById(\"preset-\" + index))),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg w-full h-full opacity-0 hover:opacity-100 bg-mac-maroon bg-opacity-60 hover:cursor-pointer absolute left-0 flex flex-col place-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-white font-bold text-center xl:text-lg\",\n              children: \"Choose This Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"preset-\" + index,\n            src: preset,\n            className: \"object-cover rounded-lg w-full h-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this)]\n        }, \"preset-\" + index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this);\n    };\n    const getBase64Image = img => {\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = img.naturalWidth;\n      canvas.height = img.naturalHeight;\n      var ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(img, 0, 0);\n      var dataURL = canvas.toDataURL(\"image/png\");\n      return dataURL;\n    };\n    const processUpload = file => {\n      console.log(file);\n      if (file.type != \"image/png\" && file.type != \"image/jpg\" && file.type != \"image/jpeg\") {\n        setError(\"Invalid file format: try again using a PNG, JPG, or GIF file\");\n        return;\n      }\n      if (file.size > 500000) {\n        setError(\"File is too large: try again using a file < 500KB in size\");\n        return;\n      }\n      const reader = new FileReader();\n      reader.addEventListener(\"load\", () => {\n        startAnalyzing(reader.result);\n      }, false);\n      reader.readAsDataURL(file);\n    };\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white container mx-auto sm:rounded-lg shadow-lg mt-20 sm:mt-24 lg:mt-0 py-8 px-6 sm:px-12 gap-2 sm:gap-8 2xl:px-20 xl:px-16 flex sm:flex-row flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full sm:w-6/12 flex flex-col place-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-mac-maroon text-xl sm:text-lg md:text-xl font-bold tracking-wider xl:text-3xl 2xl:text-4xl\",\n            children: \"UPLOAD AN INPUT IMAGE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-700 mt-3 mb-3 md:mt-6 md:mb-6 xl:text-lg\",\n            children: \"Choose an input file that meets the following criteria:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CheckMarkListItem, {\n            text: \"A PNG or JPG image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CheckMarkListItem, {\n            text: \"No larger than 500KB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CheckMarkListItem, {\n            text: \"Contains less than 5 instances of supported objects\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 md:mt-8\",\n            children: /*#__PURE__*/_jsxDEV(UploadButton, {\n              onChange: processUpload,\n              text: \"CHOOSE FILE\",\n              icon: \"fa-circle-chevron-right\",\n              iconSide: \"right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-600 mt-6\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full sm:w-6/12\",\n          children: /*#__PURE__*/_jsxDEV(SupportedObjects, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 h-2 w-20 border-t-4 border-slate-700 mx-auto lg:mt-24 mt-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"relative z-10 tracking-wide text-slate-700 text-center text-2xl lg:text-3xl font-bold sm:mt-8 mb-2 lg:mb-6 2xl:text-4xl\",\n        children: \"OR TRY OUR PRESETS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Presets, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  };\n  const PostUploadPanel = _ref2 => {\n    let {\n      children\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white container mx-auto rounded-lg shadow-lg py-8 px-12 flex flex-col-reverse lg:flex-row gap-8 xl:px-16 2xl:px-20 lg:mt-0 mt-24 mb-24\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"2xl:w-5/12 w-full lg:w-6/12 flex flex-col place-content-center\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"2xl:w-7/12 w-full lg:w-6/12 lg:py-3 lg:px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"w-full rounded-lg\",\n          src: resultImage === null ? uploadImage : resultImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this);\n  };\n  const Loading = () => {\n    _s();\n    const loadingBar = useRef(null);\n    const [startTime, setStartTime] = useState(new Date().getTime());\n    const [loadingBarSize, setLoadingBarSize] = useState(50);\n    const [timePassed, setTimePassed] = useState(0);\n    useEffect(() => {\n      console.log(loadingBar.current.clientWidth);\n      setLoadingBarSize(loadingBar.current.clientWidth);\n    }, [loadingBar]);\n    const delay = 3000;\n    useEffect(() => {\n      const time = new Date().getTime();\n      setStartTime(time);\n      const barInterval = setInterval(() => {\n        let timePassed = new Date().getTime() - startTime;\n        if (timePassed > delay) {\n          setResultImage(uploadImage);\n          // setResultData([]); // <---- Use this to test empty state!\n          setResultData([{\n            name: \"Traffic light\",\n            color: \"#1CF1FF\",\n            confidence: 79.9\n          }, {\n            name: \"Street sign\",\n            color: \"#FF08C9\",\n            confidence: 97.2\n          }, {\n            name: \"Traffic light\",\n            color: \"#36FF15\",\n            confidence: 84.0\n          }]);\n          clearInterval(barInterval);\n        }\n        setTimePassed(timePassed);\n      }, 1);\n      return () => {\n        clearInterval(barInterval);\n      };\n    }, []);\n    let diff = new Date().getTime() - startTime;\n    let overlayWidth = 0;\n    if (diff >= delay) overlayWidth = 0;else overlayWidth = loadingBarSize - timePassed / delay * loadingBarSize;\n    return /*#__PURE__*/_jsxDEV(PostUploadPanel, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-mac-maroon text-2xl font-bold tracking-wider xl:text-3xl 2xl:text-4xl\",\n        children: \"SIT TIGHT!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-slate-500 mt-4 xl:text-lg 2xl:mt-6\",\n        children: \"Our model is analyzing the input image. This might take a few seconds.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 2xl:mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: loadingBar,\n          id: \"loadingBar\",\n          className: \"z-10 w-100 h-6 2xl:h-8 rounded-full bg-gradient-to-r from-mac-maroon to-purple-900 relative\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: overlayWidth\n            },\n            id: \"loadingOverlay\",\n            className: \"z-20 h-6 2xl:h-8 rounded-r-full bg-white opacity-50 absolute right-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this);\n  };\n  _s(Loading, \"dOXhvisCvrs0l6AjQowfD+5r+/k=\");\n  const EmptyResults = () => {\n    return /*#__PURE__*/_jsxDEV(PostUploadPanel, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-mac-maroon text-2xl font-bold tracking-wider xl:text-3xl 2xl:text-4xl\",\n        children: \"NO OBJECTS DETECTED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-slate-500 mt-4 mb-6 2xl:mt-6 xl:text-lg 2xl:mb-6\",\n        children: \"Our model did not detect any supported objects in the input image.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          href: \"/demo\",\n          text: \"TRY AGAIN\",\n          icon: \"fa-circle-chevron-right\",\n          iconSide: \"right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }, this);\n  };\n  const Results = () => {\n    return /*#__PURE__*/_jsxDEV(PostUploadPanel, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-slate-800 text-2xl font-bold tracking-wider xl:text-3xl 2xl:text-4xl\",\n        children: [resultData.length, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-slate-500\",\n          children: \"OBJECTS DETECTED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 127\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"mt-4 xl:mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\"\", \"OBJECT\", \"CONFIDENCE\"].map((col, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"xl:text-lg border-b-2 border-b-gray-100 text-left text-slate-400 font-bold tracking-wider py-3\",\n              children: col\n            }, \"th-\" + index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: resultData.map((o, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-3 border-b-2 border-b-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-6 h-6 rounded-sm\",\n                style: {\n                  \"background-color\": o.color\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"xl:text-lg py-3 border-b-2 border-b-gray-100 text-slate-800\",\n              children: o.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"xl:text-lg text-slate-500 py-3 border-b-2 border-b-gray-100\",\n              children: [o.confidence, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 33\n            }, this)]\n          }, \"tr-\" + index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex mt-12 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          href: \"/demo\",\n          text: \"TRY AGAIN\",\n          icon: \"fa-circle-chevron-right\",\n          iconSide: \"right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          href: \"/demo\",\n          text: \"DOWNLOAD RESULT\",\n          primary: false,\n          icon: \"fa-download\",\n          iconSide: \"left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(Page, {\n    children: [uploadImage === null ? /*#__PURE__*/_jsxDEV(PreUpload, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 37\n    }, this) : null, uploadImage != null && resultData === null ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 59\n    }, this) : null, uploadImage != null && resultData != null && resultData.length == 0 ? /*#__PURE__*/_jsxDEV(EmptyResults, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 84\n    }, this) : null, uploadImage != null && resultData != null && resultData.length > 0 ? /*#__PURE__*/_jsxDEV(Results, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 83\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 9\n  }, this);\n};\n_s2(DemoPage, \"iLhLc/03JtYfNsskPBGqbr0+iHE=\");\n_c = DemoPage;\nexport default DemoPage;\nvar _c;\n$RefreshReg$(_c, \"DemoPage\");","map":{"version":3,"names":["supportedBus","supportedMinivan","supportedManhole","supportedMountainBike","supportedParkBench","supportedPoliceCar","supportedRV","supportedStreetSign","supportedTaxi","supportedTrafficLight","preset1","useEffect","useState","useRef","Page","UploadButton","Button","isCompositeComponent","DemoPage","error","setError","uploadImage","setUploadImage","resultImage","setResultImage","resultData","setResultData","startAnalyzing","image","console","log","PreUpload","CheckMarkListItem","text","SupportedObjects","types","name","listText","i","length","t","map","index","Presets","presets","preset","e","getBase64Image","document","getElementById","img","canvas","createElement","width","naturalWidth","height","naturalHeight","ctx","getContext","drawImage","dataURL","toDataURL","processUpload","file","type","size","reader","FileReader","addEventListener","result","readAsDataURL","PostUploadPanel","children","Loading","loadingBar","startTime","setStartTime","Date","getTime","loadingBarSize","setLoadingBarSize","timePassed","setTimePassed","current","clientWidth","delay","time","barInterval","setInterval","color","confidence","clearInterval","diff","overlayWidth","EmptyResults","Results","col","o"],"sources":["/home/joe/projects/Capstone-22-23/src/app/src2/src/pages/DemoPage.jsx"],"sourcesContent":["import supportedBus from '../images/supported/bus.png';\nimport supportedMinivan from '../images/supported/minivan.png';\nimport supportedManhole from '../images/supported/manhole.png';\nimport supportedMountainBike from '../images/supported/mountainBike.png';\nimport supportedParkBench from '../images/supported/parkBench.png';\nimport supportedPoliceCar from '../images/supported/policeCar.png';\nimport supportedRV from '../images/supported/rv.png';\nimport supportedStreetSign from '../images/supported/streetSign.png';\nimport supportedTaxi from '../images/supported/taxi.png';\nimport supportedTrafficLight from '../images/supported/trafficLight.png';\n\nimport preset1 from '../images/presets/preset1.jpg';\n\nimport { useEffect, useState, useRef } from 'react';\n\nimport Page from './Page';\nimport UploadButton from '../components/UploadButton';\nimport Button from '../components/Button';\nimport { isCompositeComponent } from 'react-dom/test-utils';\n\nconst DemoPage = () => {\n\n    const [error, setError] = useState(\"\");\n    const [uploadImage, setUploadImage] = useState(null);\n    const [resultImage, setResultImage] = useState(null);\n    const [resultData, setResultData] = useState(null);\n\n    const startAnalyzing = (image) => {\n        console.log(image);\n        setUploadImage(image);\n        setError(null);\n    }\n\n    const PreUpload = () => {\n\n        const CheckMarkListItem = ({text}) => {\n            return <div className=\"flex my-1\">\n                <div className=\"pl-6\">\n                    <p className=\"text-slate-700\">\n                        <i className=\"fa-solid fa-check\"></i>\n                    </p>\n                </div>\n                <div className=\"pl-2\">\n                    <p className=\"text-slate-700\">\n                        {text}\n                    </p>\n                </div>\n            </div>\n        }\n\n        const SupportedObjects = () => {\n            const types = [\n                {name: \"R.V.\", image: supportedRV},\n                {name: \"Street sign\", image: supportedStreetSign},\n                {name: \"School bus\", image: supportedBus},\n                {name: \"Mountain bike\", image: supportedMountainBike},\n                {name: \"Taxi\", image: supportedTaxi},\n                {name: \"Minivan\", image: supportedMinivan},\n                {name: \"Traffic light\", image: supportedTrafficLight},\n                {name: \"Park bench\", image: supportedParkBench},\n                {name: \"Police car\", image: supportedPoliceCar},\n                {name: \"Manhole cover\", image: supportedManhole},\n            ];\n\n            let listText = \"\";\n            for(let i = 0; i < types.length; i++) {\n                let t = types[i];\n                listText += i == types.length - 1 ? t.name : t.name + \", \";\n            }\n            console.log(listText);\n\n            return (\n                <div className=\"w-full rounded-lg px-5 py-6 lg:py-4 bg-slate-100\">\n                    <h3 className=\"text-slate-400 sm:hidden md:block font-bold tracking-wider 2xl:text-xl xl:text-lg\">\n                        <i className=\"fa-solid fa-info-circle mr-2\"></i>SUPPORTED OBJECT CLASSES\n                    </h3>\n                    <h3 className=\"text-slate-400 hidden sm:block md:hidden font-bold tracking-wider 2xl:text-xl xl:text-lg\">\n                        <i className=\"fa-solid fa-info-circle mr-2\"></i>OBJECT CLASSES\n                    </h3>\n                    <div className=\"mt-3 flex-wrap hidden lg:flex\">\n                        {types.map((t, index) =>\n                            <div key={\"so-\" + index} className={\"px-2 py-2 w-6/12 odd:border-r-2 odd:border-r-slate-200 flex items-center \" + (index < types.length - 2 ? \"border-b-2 border-b-slate-200\" : \"\")}>\n                                <div className=\"w-12 2xl:w-14\">\n                                    <img src={t.image} className=\"w-full\" />\n                                </div>\n                                <p className=\"text-slate-600 pl-3 2xl:text-lg\">\n                                    {t.name}\n                                </p>\n                            </div>    \n                        )}\n                    </div>\n                    <div className=\"mt-1 hidden sm:block lg:hidden ml-8 mr-3\">\n                        <ul className=\"list-disc\">\n                            {types.map((t, index) =>\n                                <li key={\"so-list-\" + index} className=\"text-slate-500 pl-2\">{t.name}</li>\n                            )}\n                        </ul>\n                    </div>\n                    <div className=\"block sm:hidden mx-1\">\n                        <p className=\"text-slate-500 mt-2\">\n                            {listText}\n                        </p>\n                    </div>\n                </div>\n            );\n        }\n\n        const Presets = () => {\n            const presets = [\n                preset1,\n                preset1,\n                preset1,\n                preset1,\n                preset1,\n                preset1,\n                preset1,\n                preset1,\n                preset1,\n            ];\n\n            return (\n                <div className=\"container mx-auto mt-12 grid md:grid-cols-3 grid-cols-2 px-3 md:px-0 gap-5 md:gap-x-12 md:gap-y-8 mb-24\">\n                    {presets.map((preset, index) =>\n                        <div key={\"preset-\" + index} className=\"2xl:h-72 xl:h-60 relative\" onClick={(e) => startAnalyzing(getBase64Image(document.getElementById(\"preset-\" + index)))}>\n                            <div className=\"rounded-lg w-full h-full opacity-0 hover:opacity-100 bg-mac-maroon bg-opacity-60 hover:cursor-pointer absolute left-0 flex flex-col place-content-center\">\n                                <h1 className=\"text-white font-bold text-center xl:text-lg\">Choose This Image</h1>\n                            </div>\n                            <img id={\"preset-\" + index} src={preset} className=\"object-cover rounded-lg w-full h-full\" />\n                        </div>    \n                    )}\n                </div>\n            );\n        }\n\n        const getBase64Image = (img) => {\n            var canvas = document.createElement(\"canvas\");\n            canvas.width = img.naturalWidth;\n            canvas.height = img.naturalHeight;\n            var ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(img, 0, 0);\n            var dataURL = canvas.toDataURL(\"image/png\");\n            return dataURL;\n        }\n\n        const processUpload = (file) => {\n            console.log(file);\n            if(file.type != \"image/png\" && file.type != \"image/jpg\" && file.type != \"image/jpeg\") {\n                setError(\"Invalid file format: try again using a PNG, JPG, or GIF file\");\n                return;\n            }\n\n            if(file.size > 500000) {\n                setError(\"File is too large: try again using a file < 500KB in size\");\n                return;\n            }\n\n            const reader = new FileReader();\n    \n            reader.addEventListener(\"load\", () => {\n                startAnalyzing(reader.result);\n            }, false);\n    \n            reader.readAsDataURL(file);\n        }\n\n        return (\n            <>\n                <div className=\"bg-white container mx-auto sm:rounded-lg shadow-lg mt-20 sm:mt-24 lg:mt-0 py-8 px-6 sm:px-12 gap-2 sm:gap-8 2xl:px-20 xl:px-16 flex sm:flex-row flex-col\">\n                    <div className=\"w-full sm:w-6/12 flex flex-col place-content-center\">\n                        <h1 className=\"text-mac-maroon text-xl sm:text-lg md:text-xl font-bold tracking-wider xl:text-3xl 2xl:text-4xl\">UPLOAD AN INPUT IMAGE</h1>\n                        <p className=\"text-slate-700 mt-3 mb-3 md:mt-6 md:mb-6 xl:text-lg\">Choose an input file that meets the following criteria:</p>\n                        <CheckMarkListItem text=\"A PNG or JPG image\" />\n                        <CheckMarkListItem text=\"No larger than 500KB\" />\n                        <CheckMarkListItem text=\"Contains less than 5 instances of supported objects\" />\n                        <div className=\"mt-4 md:mt-8\">\n                            <UploadButton onChange={processUpload} text=\"CHOOSE FILE\" icon=\"fa-circle-chevron-right\" iconSide=\"right\" /> \n                        </div>\n                        <p className=\"text-red-600 mt-6\">{error}</p>\n                    </div>\n                    <div className=\"w-full sm:w-6/12\">\n                        <SupportedObjects />\n                    </div>\n                </div>\n                <div className=\"relative z-10 h-2 w-20 border-t-4 border-slate-700 mx-auto lg:mt-24 mt-12\"></div>\n                <h1 className=\"relative z-10 tracking-wide text-slate-700 text-center text-2xl lg:text-3xl font-bold sm:mt-8 mb-2 lg:mb-6 2xl:text-4xl\">OR TRY OUR PRESETS</h1>\n                <Presets />\n            </>\n        )\n    }\n\n    const PostUploadPanel = ({children}) => {\n        return (\n            <div className=\"bg-white container mx-auto rounded-lg shadow-lg py-8 px-12 flex flex-col-reverse lg:flex-row gap-8 xl:px-16 2xl:px-20 lg:mt-0 mt-24 mb-24\">\n                <div className=\"2xl:w-5/12 w-full lg:w-6/12 flex flex-col place-content-center\">\n                    {children}\n                </div>\n                <div className=\"2xl:w-7/12 w-full lg:w-6/12 lg:py-3 lg:px-4\">\n                    <img className=\"w-full rounded-lg\" src={resultImage === null ? uploadImage : resultImage} />\n                </div>\n            </div>\n        );\n    }\n\n    const Loading = () => {\n        const loadingBar = useRef(null);\n        const [startTime, setStartTime] = useState(new Date().getTime());\n        const [loadingBarSize, setLoadingBarSize] = useState(50);\n        const [timePassed, setTimePassed] = useState(0);\n\n        useEffect(() => {\n            console.log(loadingBar.current.clientWidth);\n            setLoadingBarSize(loadingBar.current.clientWidth)\n        }, [loadingBar])\n\n        const delay = 3000;\n\n        useEffect(() => {\n            const time = new Date().getTime();\n            setStartTime(time);\n\n            const barInterval = setInterval(() => {\n                let timePassed = new Date().getTime() - startTime;\n                if(timePassed > delay) {\n                    setResultImage(uploadImage);\n                    // setResultData([]); // <---- Use this to test empty state!\n                    setResultData([\n                        {name: \"Traffic light\", color: \"#1CF1FF\", confidence: 79.9},\n                        {name: \"Street sign\", color: \"#FF08C9\", confidence: 97.2},\n                        {name: \"Traffic light\", color: \"#36FF15\", confidence: 84.0},\n                    ]);\n                    clearInterval(barInterval);\n                }\n                setTimePassed(timePassed);\n            }, 1);\n\n            return () => {\n                clearInterval(barInterval);\n            }\n        }, []);\n\n        let diff = new Date().getTime() - startTime;\n        let overlayWidth = 0;\n        if(diff >= delay)\n            overlayWidth = 0;\n        else\n            overlayWidth = loadingBarSize - (timePassed / delay) * loadingBarSize;\n\n        return (\n            <PostUploadPanel>\n                <h1 className=\"text-mac-maroon text-2xl font-bold tracking-wider xl:text-3xl 2xl:text-4xl\">SIT TIGHT!</h1>\n                <p className=\"text-slate-500 mt-4 xl:text-lg 2xl:mt-6\">\n                    Our model is analyzing the input image. This might take a few seconds.\n                </p>\n                <div className=\"mt-6 2xl:mt-6\">\n                    <div ref={loadingBar} id=\"loadingBar\" className=\"z-10 w-100 h-6 2xl:h-8 rounded-full bg-gradient-to-r from-mac-maroon to-purple-900 relative\">\n                        <div style={{width: overlayWidth}} id=\"loadingOverlay\" className=\"z-20 h-6 2xl:h-8 rounded-r-full bg-white opacity-50 absolute right-0\"></div>\n                    </div>\n                </div>\n            </PostUploadPanel>\n        );\n    }\n\n    const EmptyResults = () => {\n        return (\n            <PostUploadPanel>\n                <h1 className=\"text-mac-maroon text-2xl font-bold tracking-wider xl:text-3xl 2xl:text-4xl\">NO OBJECTS DETECTED</h1>\n                <p className=\"text-slate-500 mt-4 mb-6 2xl:mt-6 xl:text-lg 2xl:mb-6\">\n                    Our model did not detect any supported objects in the input image. \n                </p>\n                <div>\n                    <Button href=\"/demo\" text=\"TRY AGAIN\" icon=\"fa-circle-chevron-right\" iconSide=\"right\" />\n                </div>\n            </PostUploadPanel>\n        );\n    }\n\n    const Results = () => {\n        return (\n            <PostUploadPanel>\n                <h1 className=\"text-slate-800 text-2xl font-bold tracking-wider xl:text-3xl 2xl:text-4xl\">{resultData.length} <span className=\"text-slate-500\">OBJECTS DETECTED</span></h1>\n                <table className=\"mt-4 xl:mt-6\">\n                    <thead>\n                        <tr>\n                            {[\"\", \"OBJECT\", \"CONFIDENCE\"].map((col, index) =>\n                                <th className=\"xl:text-lg border-b-2 border-b-gray-100 text-left text-slate-400 font-bold tracking-wider py-3\" key={\"th-\" + index}>\n                                    {col}\n                                </th>\n                            )}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {resultData.map((o, index) =>\n                            <tr key={\"tr-\" + index}>\n                                <td className=\"py-3 border-b-2 border-b-gray-100\">\n                                    <div className=\"w-6 h-6 rounded-sm\" style={{\"background-color\": o.color}}></div>\n                                </td>\n                                <td className=\"xl:text-lg py-3 border-b-2 border-b-gray-100 text-slate-800\">{o.name}</td>\n                                <td className=\"xl:text-lg text-slate-500 py-3 border-b-2 border-b-gray-100\">{o.confidence}%</td>\n                            </tr>\n                        )}\n                    </tbody>\n                </table>\n\n                <div className=\"flex mt-12 gap-2\">\n                    <Button href=\"/demo\" text=\"TRY AGAIN\" icon=\"fa-circle-chevron-right\" iconSide=\"right\" />\n                    <Button href=\"/demo\" text=\"DOWNLOAD RESULT\" primary={false} icon=\"fa-download\" iconSide=\"left\" />\n                </div>\n            </PostUploadPanel>\n        );\n    }\n\n    return (\n        <Page>\n            {uploadImage === null ? <PreUpload /> : null}\n            {uploadImage != null && resultData === null ? <Loading /> : null}\n            {uploadImage != null && resultData != null && resultData.length == 0 ? <EmptyResults /> : null}\n            {uploadImage != null && resultData != null && resultData.length > 0 ? <Results /> : null}\n        </Page>\n    );\n}\n\nexport default DemoPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}